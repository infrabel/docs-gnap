<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Internationalization (I18n)</title>
    <meta name="description" content="The official GNaP documentation">
    <link rel="canonical" href="http://gnap-web-themes-docs.azurewebsites.net/internationalization/">
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <a href="https://github.com/infrabel/GNaP.Web.Themes"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <div class="list-group">
      <a href="/" class="list-group-item ">Getting Started</a>
      <a href="/application-structure" class="list-group-item ">Application structure</a>
      <a href="/configuring-your-application" class="list-group-item ">Configuring your application</a>
      <a href="/states-controllers-views" class="list-group-item ">States, controllers &amp; views</a>
      <a href="/working-with-a-rest-api" class="list-group-item ">Working with a REST API</a>
      <a href="/authenticating-using-a-jwt-token" class="list-group-item ">Authenticating using a JWT token</a>
      <a href="/internationalization" class="list-group-item active">Internationalization (I18n)</a>
      <a href="/validating-user-input" class="list-group-item ">Validating user input</a>
      <a href="/error-handling" class="list-group-item ">Error handling</a>
      <a href="/putting-your-application-in-production" class="list-group-item ">Putting your application in production</a>
      <a href="/troubleshooting-your-application" class="list-group-item ">Troubleshooting your application</a>
      <a href="/advanced-topics" class="list-group-item ">Advanced topics</a>
      <a href="/appendix-1-sample-node-rest-api" class="list-group-item ">Appendix 1: Sample node REST API</a>
</div>
        </div>
        <div class="col-md-8 col-md-offset-1 ">
          <div class="article">

  <header class="article-header">
    <h1>Internationalization (I18n)</h1>
  </header>

  <article class="article-content">
  <p>GNaP.Web.Themes makes it easy to localize your applications. It has built-in support for translating content using <a href="http://angular-translate.github.io">angular-translate</a> - and - date and number formatting using <a href="https://docs.angularjs.org/guide/i18n">AngularJS I18n</a>.</p>

<h2 id="translating-content">Translating content</h2>

<p>GNaP.Web.Themes uses <a href="http://angular-translate.github.io">angular-translate</a> for showing translated content. By default content is only loaded on demand. This means that when bootstrapping your application you’re not losing time loading unneeded resources.</p>

<p>Translations are saved in resource files using the JSON format. They are stored together with the feature they belong to. </p>

<pre><code>src/
--- app/
------- main/
----------- todos/
--------------- todos.translations.en.json
--------------- todos.translations.fr.json
--------------- todos.translations.nl.json
----------- main.translations.en.json
----------- main.translations.fr.json
----------- main.translations.nl.json
</code></pre>

<p>Contents of <code>todos.translations.en.json</code>:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">"main.todos"</span><span class="p">:</span>  <span class="p">{</span>
        <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Todo List"</span><span class="p">,</span>
        <span class="s2">"breadcrumb"</span><span class="p">:</span> <span class="s2">"Todo List"</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<p>You can load translations into your application in the state configuration file. Look for the <code>stateSettings</code> object and set the <code>translations</code> property to the base path where your translations are located. Normally this would be the path to your state relative from the application root.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">stateSettings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">translations</span><span class="p">:</span> <span class="s1">'app/main/todos'</span>
<span class="p">};</span></code></pre></div>

<p>You can translate content in your views using filters:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"page-header"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1&gt;</span>
        {{ 'main.todos.title' | translate }}
    <span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></div>

<h2 id="formatting-dates-and-numbers">Formatting dates and numbers</h2>

<p>Angular supports i18n/l10n for <a href="https://docs.angularjs.org/api/ng/filter/date">date</a>, <a href="https://docs.angularjs.org/api/ng/filter/number">number</a> and <a href="https://docs.angularjs.org/api/ng/filter/currency">currency</a> filters.</p>

<h2 id="locale-selection">Locale selection</h2>

<p>GNaP.Web.Angular has a built-in locale detection mechanism. If a user hasn’t yet selected a locale then the browser language is used as the default locale. The locale selection is stored in local storage so that the next time a user visits your application, the previously selected locale will be used.</p>

<p>The <a href="https://github.com/infrabel/GNaP.Web.Themes/blob/ca95ab7f2cb55e7405c492bc43d43269eec9aac5/custom/gnap-angular/js/develop/gnap/locale-selector.directive.js">locale-selector</a> directive allows users to select a locale from a drop down list. If you’ve scaffolded your application then it should be located in the nav bar by default.</p>

<p>Programmatically setting the locale can be done using the <a href="https://github.com/infrabel/GNaP.Web.Themes/blob/61ecd0a82c6156a8d995f6aea75e33c4c3e97bc7/custom/gnap-angular/js/develop/gnap/locale.service.js">locale service</a> more specifically through the use of the setCurrentLocale function. Note that this function will trigger a reload of your application.</p>

<nav>
  <ul class="pager">
    <li class="next"><a href="/validating-user-input">Validating user input <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </article>

</div>
        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  </body>
</html>