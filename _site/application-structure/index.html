<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Application Structure</title>
    <meta name="description" content="The official GNaP documentation">
    <link rel="canonical" href="http://gnap-web-themes-docs.azurewebsites.net/application-structure/">
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <div class="list-group">
      <a href="/" class="list-group-item ">Getting Started</a>
      <a href="/application-structure" class="list-group-item active">Application structure</a>
      <a href="/configuring-your-application" class="list-group-item ">Configuring your application</a>
      <a href="/states-controllers-views" class="list-group-item ">States, controllers &amp; views</a>
      <a href="/working-with-a-rest-api" class="list-group-item ">Working with a REST API</a>
      <a href="/authenticating-using-a-jwt-token" class="list-group-item ">Authenticating using a JWT token</a>
      <a href="/internationalization" class="list-group-item ">Internationalization (I18n)</a>
      <a href="/validating-user-input" class="list-group-item ">Validating user input</a>
      <a href="/error-handling" class="list-group-item ">Error handling</a>
      <a href="/putting-your-application-in-production" class="list-group-item ">Putting your application in production</a>
      <a href="/troubleshooting-your-application" class="list-group-item ">Troubleshooting your application</a>
      <a href="/advanced-topics" class="list-group-item ">Advanced topics</a>
      <a href="/appendix-1-sample-node-rest-api" class="list-group-item ">Appendix 1: Sample node REST API</a>
</div>
        </div>
        <div class="col-md-8 col-md-offset-1 ">
          <div class="article">

  <header class="article-header">
    <h1>Application Structure</h1>
  </header>

  <article class="article-content">
  <p>The most important aspect about your application structure is the fact that everything should be organized by feature instead of class type.</p>

<p>In a traditional application structure you would have a folder per file or class type:</p>

<p><strong>DONâ€™T DO THIS:</strong></p>

<pre><code>src/
--- app/
------- controllers/
----------- main.controller.js
----------- list.controller.js
----------- new.controller.js
------- views/
----------- main.html
----------- list.html
----------- new.html
------- states/
----------- main.state.js
----------- list.state.js
----------- new.state.js
</code></pre>

<p>We favor a stucture where everything is grouped by feature. This makes it clear for everyone what the application does instead of how it work. If later on someone else has to work on your code it is immediately obvious what the main functionalities of the application are.</p>

<p><strong>DO THIS:</strong></p>

<pre><code>src/
--- app/
------- main/
----------- todos/
--------------- list/
------------------- list.state.js
------------------- list.controller.js
------------------- list.html
--------------- new/
------------------- new.state.js
------------------- new.controller.js
------------------- new.html
----------- main.state.js
----------- main.controller.js
----------- main.html
------- app.config.js
------- app.module.js
--- css/
--- vendor/
--- index.html
</code></pre>

<h2 id="appmodulejs">app.module.js</h2>

<p>Configures your application module and declares the modules to import.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">angular</span>
        <span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;gnap-web-themes-docs&#39;</span><span class="p">,</span> 
                <span class="p">[</span><span class="s1">&#39;gnap&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ngSanitize&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ngResource&#39;</span><span class="p">]);</span>
<span class="p">})();</span></code></pre></div>

<h2 id="appconfigjs">app.config.js</h2>

<p>Configures your application. Write your module run and config functions here to configure your application.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">angular</span>
        <span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;gnap-web-themes-docs&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">config</span><span class="p">(</span><span class="nx">titleConfiguration</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">config</span><span class="p">(</span><span class="nx">urlRouterConfiguration</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">config</span><span class="p">(</span><span class="nx">authConfiguration</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="nx">handleStateChangeError</span><span class="p">);</span>

    <span class="nx">titleConfiguration</span><span class="p">.</span><span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;titleServiceProvider&#39;</span><span class="p">];</span>

    <span class="kd">function</span> <span class="nx">titleConfiguration</span><span class="p">(</span><span class="nx">titleServiceProvider</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// title configuration goes here</span>
    <span class="p">}</span>

    <span class="nx">urlRouterConfiguration</span><span class="p">.</span><span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;$urlRouterProvider&#39;</span><span class="p">];</span>

    <span class="kd">function</span> <span class="nx">urlRouterConfiguration</span><span class="p">(</span><span class="nx">$urlRouterProvider</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// url router configuration goes here</span>
    <span class="p">}</span>

    <span class="nx">authConfiguration</span><span class="p">.</span><span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;$httpProvider&#39;</span><span class="p">];</span>

    <span class="kd">function</span> <span class="nx">authConfiguration</span><span class="p">(</span><span class="nx">$httpProvider</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// auth configuration goes here</span>
    <span class="p">}</span>

    <span class="nx">handleStateChangeError</span><span class="p">.</span><span class="nx">$inject</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;$rootScope&#39;</span><span class="p">,</span> <span class="s1">&#39;$state&#39;</span><span class="p">,</span> <span class="s1">&#39;$location&#39;</span><span class="p">,</span> <span class="s1">&#39;sessionService&#39;</span><span class="p">,</span> <span class="s1">&#39;unhandledErrorChannel&#39;</span><span class="p">];</span>

    <span class="kd">function</span> <span class="nx">handleStateChangeError</span><span class="p">(</span><span class="nx">$rootScope</span><span class="p">,</span> <span class="nx">$state</span><span class="p">,</span> <span class="nx">$location</span><span class="p">,</span> <span class="nx">sessionService</span><span class="p">,</span> <span class="nx">unhandledErrorChannel</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// handle state change errors here</span>
    <span class="p">}</span>
<span class="p">})();</span></code></pre></div>

<nav>
  <ul class="pager">
    <li class="next"><a href="/configuring-your-application">Configuring your application <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </article>

</div>
        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  </body>
</html>