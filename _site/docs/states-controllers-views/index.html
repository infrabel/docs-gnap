<!DOCTYPE html>
<html lang="en" ng-app="docs">
    <head>
  <meta charset="utf-8" />
  <title>States, Controllers &amp; Views - GNaP</title>

  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="/node_modules/gnap-theme-gnap-angular/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="/node_modules/gnap-theme-gnap-angular/css/font-awesome.min.css" />

  <!--[if IE 7]>
  <link rel="stylesheet" href="/node_modules/gnap-theme-gnap-angular/css/font-awesome-ie7.min.css" />
  <![endif]-->

  <link rel="stylesheet" href="/node_modules/gnap-theme-gnap-angular/css/ace-fonts.min.css" />
  <link rel="stylesheet" href="/node_modules/gnap-theme-gnap-angular/css/ace.min.css" />
  <link rel="stylesheet" href="/node_modules/gnap-theme-gnap-angular/css/ace-skins.min.css" />
  <link rel="stylesheet" href="/node_modules/gnap-theme-gnap-angular/css/print.min.css" media="print" />

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/node_modules/gnap-theme-gnap-angular/css/ace-ie.min.css" />
  <link rel="stylesheet" href="/node_modules/gnap-theme-gnap-angular/css/ie8.min.css" />
  <![endif]-->

  <!--[if lt IE 9]>
  <script src="/node_modules/gnap-theme-gnap-angular/js/html5shiv.min.js"></script>
  <script src="/node_modules/gnap-theme-gnap-angular/js/respond.min.js"></script>
  <![endif]-->

  <link rel="stylesheet" href="/node_modules/gnap-theme-gnap-angular/css/ie9.min.css" />

  <link rel="stylesheet" href="/css/jekyll-syntax/default.css" />
  <link rel="stylesheet" href="/css/common.css" />
  <link rel="stylesheet" href="/css/docs.css" />

  <script src="/node_modules/gnap-theme-gnap-angular/js/modernizr.min.js"></script>

  <link href="/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
</head>


    <body>
        <div class="navbar navbar-default" id="navbar">
    <div class="navbar-container" id="navbar-container">
        <div class="navbar-header pull-left">
            <a href="/" class="navbar-brand">
                <small>
                    <i class="team-logo"></i>

                    <!-- GNaP -->
                </small>
            </a>
        </div>
        
        <div class="navbar-header pull-right" role="navigation">
            <ul class="nav ace-nav">
                <li><a href="/docs"><i class="icon-file"></i>Documentation</a></li>
                <li><a href="/"><i class="icon-youtube-play"></i> Videos</a></li>
                <li><a href="/releases"><i class="icon-tags"></i>Releases</a></li>
                <li><a href="/gnap/update/2014/12/09/introducing-gnap/"><i class="icon-file"></i>Blog</a></li>
                <li><a href="https://www.github.com/infrabel" target="_blank"><i class="icon-github"></i> GitHub</a></li>
            </ul>
        </div>
    </div>
</div>


        <div class="main-container" id="main-container">
            <div class="main-container-inner">
                <a class="menu-toggler" id="menu-toggler" href="#">
                    <span class="menu-text"></span>
                </a>
                <div class="sidebar" id="sidebar">
                    <ul class="nav nav-list">
    <li class="">
        <a href="/docs">
            <i class="icon-bolt"></i>
            <span class="menu-text"> Getting Started</span>
        </a>
    </li>
    <li class="">
        <a href="/docs/application-structure">
            <i class="icon-tasks"></i>
            <span class="menu-text"> Application structure</span>
        </a>
    </li>
    <li class="">
        <a href="/docs/configuring-your-application">
            <i class="icon-gears"></i>
            <span class="menu-text"> Configuring your application</span>
        </a>
    </li>
    <li class="active">
        <a href="/docs/states-controllers-views">
            <i class="icon-compass"></i>
            <span class="menu-text"> States, controllers &amp; views</span>
        </a>
    </li>
    <li class="">
        <a href="/docs/working-with-a-rest-api">
            <i class="icon-code"></i>
            <span class="menu-text"> Working with a REST API</span>
        </a>
    </li>
    <li class="">
        <a href="/docs/authenticating-using-a-jwt-token">
            <i class="icon-lock"></i>
            <span class="menu-text"> Authenticating using a JWT token</span>
        </a>
    </li>
    <li class="">
        <a href="/docs/internationalization">
            <i class="icon-globe"></i>
            <span class="menu-text"> Internationalization (I18n)</span>
        </a>
    </li>
    <li class="">
        <a href="/docs/validating-user-input">
            <i class="icon-check"></i>
            <span class="menu-text"> Validating user input</span>
        </a>
    </li>
    <li class="">
        <a href="/docs/error-handling">
            <i class="icon-warning-sign"></i>
            <span class="menu-text"> Error handling</span>
        </a>
    </li>
    <li class="">
        <a href="/docs/putting-your-application-in-production">
            <i class="icon-flag-checkered"></i>
            <span class="menu-text"> Putting your application in production</span>
        </a>
    </li>
    <li class="">
        <a href="/docs/troubleshooting-your-application">
            <i class="icon-terminal"></i>
            <span class="menu-text"> Troubleshooting your application</span>
        </a>
    </li>
</ul>

                </div>

                <div class="main-content">
                    <div class="breadcrumbs" id="breadcrumbs">
                        <ul class="breadcrumb">
                            <li>
                                <i class="icon-home home-icon"></i>
                                <a href="/">Home</a>
                            </li>
                            <li><a href="/docs">Documentation</a></lI>

                            <li class="active">States, Controllers &amp; Views</li>
                        </ul>
                    </div>

                    <div class="page-content" ng-controller="TopicController" ng-cloak>
                        <div class="row">
                            <div class="col-xs-12">                             
                                <div class="page-header clearfix">
                                    <h1 class="pull-left">States, Controllers &amp; Views</h1>
                                    <!--
                                    <div class="btn-group pull-right">
                                        <label class="btn btn-primary" ng-model="platform" btn-radio="'.NET'">.NET</label>
                                        <label class="btn btn-primary" ng-model="platform" btn-radio="'Java'">Java</label>
                                        <label class="btn btn-primary" ng-model="platform" btn-radio="'PHP'">PHP</label>
                                    </div>
                                    -->
                                </div>
                                <div class="alert alert-warning" platform="Java">
                                    <i class="icon-warning-sign"></i> We currently do not offer a server-side implementation for Java.
                                </div>
                                <div class="alert alert-warning" platform="PHP">
                                    <i class="icon-warning-sign"></i> We currently do not offer a server-side implementation for PHP.
                                </div>
                                <h2 id="about-states">About states</h2>

<p>Angular comes with a powerfull built-in routing mechanism. While this works great for simple applications, things tend to get complicated fast when building large sized applications. As soon as you need nested views and shared state between them the built-in routing mechanism falls short. That’s why the Angular UI team built ui-router. In their own words:</p>

<blockquote>
  <p>AngularUI Router is a routing framework for AngularJS, which allows you to organize the parts of your interface into a state machine. Unlike the $route service in the Angular ngRoute module, which is organized around URL routes, UI-Router is organized around states, which may optionally have routes, as well as other behavior, attached.</p>
</blockquote>

<p>AngularUI Router provides a different approach than ngRoute in that it changes your application views based on state of the application and not just the route URL. Instead of thinking about a URL and the view that is displayed by that URL, AngularUI Router forces you to think about what state your application is in when visiting a URL. This way you can have nested states so that there’s less clutter in your controllers. If for example you would need to show a breadcrumb you would create multiple nested states that each add to the breadcrumb. This is a much more DRY approach than repeating breadcrumb additions in all controllers.</p>

<p>Read more about states and UI Router at the <a href="https://github.com/angular-ui/ui-router">AngularUI Router GitHub Repo</a></p>

<blockquote>
  <p>TODO: Explain the relationship between states, controllers and views</p>
</blockquote>

<h2 id="adding-a-new-state">Adding a new state</h2>

<p>Adding a state includes creating a state file, controller and view. We have included a generator that scaffolds a new state using your input.</p>

<p>Start by invoking <em>yo</em> like this:</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">yo gnap-angular:state main.todos</code></pre></div>

<p>Next the generator will prompt you to enter the url of your state. This is the url that the users of your application will visit to view your state. You can leave this blank if you’re happy with the proposed url. Press enter to confirm your input.</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">? What is the url of the state? (/todos)</code></pre></div>

<p>You can now enter the localized title texts.</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">? What is the *english* title of the state? Todo List
? What is the *dutch* title of the state? Takenlijst
? What is the *french* title of the state? Liste des tâches</code></pre></div>

<p>If the state should show up in the sidebar of your application then answer <em>y</em> to the following question.</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">? Should the state show up in the sidebar? (y/N) y</code></pre></div>

<p>The state generator will now start scaffolding. After it has completed its work your application has the following new files:</p>

<pre><code>src/
--- app/
------- main/
----------- todos/
--------------- todos.state.js
--------------- todos.controller.js
--------------- todos.html
--------------- translations.en.json
--------------- translations.fr.json
--------------- translations.nl.json
</code></pre>

<table class="table">
  <thead>
    <tr>
      <th>File</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>todos.state.js</td>
      <td>The state configuration file. Contains information about URL, controller and view.</td>
    </tr>
    <tr>
      <td>todos.controller.js</td>
      <td>Class that adds values and functions to the scope for use in the view</td>
    </tr>
    <tr>
      <td>todos.html</td>
      <td>The view template</td>
    </tr>
    <tr>
      <td>translations.en.json</td>
      <td>The english translations</td>
    </tr>
    <tr>
      <td>translations.fr.json</td>
      <td>The french translations</td>
    </tr>
    <tr>
      <td>translations.nl.json</td>
      <td>The dutch translations</td>
    </tr>
  </tbody>
</table>

<p>If you’re still running <code>grunt serve</code> then the new state should immediately be available in your browser.</p>

<h2 id="configuring-the-state">Configuring the state</h2>

<p>Now that your state has been created we can start configuring it. In the scaffolded state file you’ll find a stateSettings variable that contains all the configuration settings.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">stateSettings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;main.todos&#39;</span><span class="p">,</span>
    <span class="nx">state</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/todos&#39;</span><span class="p">,</span>
        <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;app/main/todos/todos.html&#39;</span><span class="p">,</span>
        <span class="nx">controller</span><span class="o">:</span> <span class="s1">&#39;MainTodosController as vm&#39;</span>
    <span class="p">},</span>
    <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">textTranslationId</span><span class="o">:</span> <span class="s1">&#39;main.todos.title&#39;</span>
    <span class="p">},</span>
    <span class="nx">breadcrumb</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">titleTranslationId</span><span class="o">:</span> <span class="s1">&#39;main.todos.breadcrumb&#39;</span>
    <span class="p">},</span>
    <span class="nx">sidebarKey</span><span class="o">:</span> <span class="s1">&#39;main.todos&#39;</span><span class="p">,</span>
    <span class="nx">translations</span><span class="o">:</span> <span class="s1">&#39;app/main/todos&#39;</span>
<span class="p">};</span></code></pre></div>

<table class="table">
  <thead>
    <tr>
      <th>Setting</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>name</td>
      <td>The state name. Nested states are separated by a dot (.)</td>
    </tr>
    <tr>
      <td>state.url</td>
      <td>The URL that this state is located at. When users browse to this URL in your application, the state (and its parent states) will be loaded.</td>
    </tr>
    <tr>
      <td>state.templateUrl</td>
      <td>The path to to view template.</td>
    </tr>
    <tr>
      <td>state.controller</td>
      <td>The controller for this state. Note that we’re using the controllerAs syntax. See <a href="https://docs.angularjs.org/api/ng/directive/ngController">ngController</a> to find out more about using this syntax.</td>
    </tr>
    <tr>
      <td>title</td>
      <td>The state title that is displayed as the title of the current browser window. This can either contain a <em>text</em> attribute that contains the text to display, or a  <em>textTranslationId</em> attribute that points to the translated value to display. For more information about the <em>textTranslationId</em> attribute see <a href="/internationalization">Internationalization (I18n)</a>.</td>
    </tr>
    <tr>
      <td>breadcrumb</td>
      <td>The breadcrumb to display for this state. This can either contain a <em>title</em> attribute that contains the text to display, or a  <em>titleTranslationId</em> attribute that points to the translated value to display. For more information about the <em>titleTranslationId</em> attribute see <a href="/internationalization">Internationalization (I18n)</a>.</td>
    </tr>
    <tr>
      <td>sidebarKey</td>
      <td>The key of the sidebar item that should be set active when this state is currently being displayed.</td>
    </tr>
    <tr>
      <td>translations</td>
      <td>The base url of the translation files. The URL for a specific translation file is constructed as follows: <em>{translations}</em>/translations.<em>{lang}</em>.json</td>
    </tr>
  </tbody>
</table>

                                
                                    <nav>
                                        <ul class="pager">
                                            <li class="next"><a href="/docs/working-with-a-rest-api">Next: Working with a REST API <span aria-hidden="true">&rarr;</span></a></li>
                                        </ul>
                                    </nav>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript">
            window.jQuery || document.write("<script src='/node_modules/gnap-theme-gnap-angular/js/jquery.min.js'>"+"<"+"/script>");
        </script>
        <script type="text/javascript">
            if("ontouchend" in document) document.write("<script src='/node_modules/gnap-theme-gnap-angular/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
        </script>
        <script src="/node_modules/gnap-theme-gnap-angular/js/bootstrap.min.js"></script>
        <script src="/node_modules/gnap-theme-gnap-angular/js/ace-elements.min.js"></script>
        <script src="/node_modules/gnap-theme-gnap-angular/js/ace.min.js"></script>
        <script src="/node_modules/gnap-theme-gnap-angular/js/layout.min.js"></script>
        <script src="/node_modules/gnap-theme-gnap-angular/js/angular/angular.min.js"></script>
        <script src="/node_modules/gnap-theme-gnap-angular/js/angular/angular-resource.min.js"></script>
        <script src="/node_modules/gnap-theme-gnap-angular/js/angular-local-storage/angular-local-storage.min.js"></script>
        <script src="/node_modules/gnap-theme-gnap-angular/js/ui-bootstrap/ui-bootstrap-tpls-0.11.0.min.js"></script>

        <script src="/js/app/docs/app.modules.js"></script>
        <script src="/js/app/docs/app.config.js"></script>
        <script src="/js/app/docs/topic.controller.js"></script>
        <script src="/js/app/docs/platform.directive.js"></script>
    </body>
</html>
