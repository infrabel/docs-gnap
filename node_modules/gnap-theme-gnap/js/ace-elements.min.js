"ace"in window||(window.ace={}),jQuery(function(){window.ace.click_event=$.fn.tap?"tap":"click"}),function(a,b){var c="multiple"in document.createElement("INPUT"),d="FileList"in window,e="FileReader"in window,f=function(b,c){var d=this;this.settings=a.extend({},a.fn.ace_file_input.defaults,c),this.$element=a(b),this.element=b,this.disabled=!1,this.can_reset=!0,this.$element.on("change.ace_inner_call",function(a,b){return b!==!0?h.call(d):void 0}),this.$element.wrap('<div class="ace-file-input" />'),this.apply_settings()};f.error={FILE_LOAD_FAILED:1,IMAGE_LOAD_FAILED:2,THUMBNAIL_FAILED:3},f.prototype.apply_settings=function(){var a=this,b=!!this.settings.icon_remove;this.multi=this.$element.attr("multiple")&&c,this.well_style="well"==this.settings.style,this.well_style?this.$element.parent().addClass("ace-file-multiple"):this.$element.parent().removeClass("ace-file-multiple"),this.$element.parent().find(":not(input[type=file])").remove(),this.$element.after('<label class="file-label" data-title="'+this.settings.btn_choose+'"><span class="file-name" data-title="'+this.settings.no_file+'">'+(this.settings.no_icon?'<i class="'+this.settings.no_icon+'"></i>':"")+"</span></label>"+(b?'<a class="remove" href="#"><i class="'+this.settings.icon_remove+'"></i></a>':"")),this.$label=this.$element.next(),this.$label.on("click",function(){this.disabled||a.element.disabled||a.$element.attr("readonly")||a.$element.click()}),b&&this.$label.next("a").on(ace.click_event,function(){if(!a.can_reset)return!1;var b=!0;return a.settings.before_remove&&(b=a.settings.before_remove.call(a.element)),b?a.reset_input():!1}),this.settings.droppable&&d&&g.call(this)},f.prototype.show_file_list=function(b){var c="undefined"==typeof b?this.$element.data("ace_input_files"):b;if(c&&0!=c.length){this.well_style&&(this.$label.find(".file-name").remove(),this.settings.btn_change||this.$label.addClass("hide-placeholder")),this.$label.attr("data-title",this.settings.btn_change).addClass("selected");for(var d=0;d<c.length;d++){var f="string"==typeof c[d]?c[d]:a.trim(c[d].name),g=f.lastIndexOf("\\")+1;0==g&&(g=f.lastIndexOf("/")+1),f=f.substr(g);var h="icon-file";if(/\.(jpe?g|png|gif|svg|bmp|tiff?)$/i.test(f)?h="icon-picture":/\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i.test(f)?h="icon-film":/\.(mp3|ogg|wav|wma|amr|aac)$/i.test(f)&&(h="icon-music"),this.well_style){this.$label.append('<span class="file-name" data-title="'+f+'"><i class="'+h+'"></i></span>');var j=a.trim(c[d].type),k=e&&this.settings.thumbnail&&(j.length>0&&j.match("image")||0==j.length&&"icon-picture"==h);if(k){var l=this;a.when(i.call(this,c[d])).fail(function(a){l.settings.preview_error&&l.settings.preview_error.call(l,f,a.code)})}}else this.$label.find(".file-name").attr({"data-title":f}).find('[class*="icon-"]').attr("class",h)}return!0}},f.prototype.reset_input=function(){return this.$label.attr({"data-title":this.settings.btn_choose,"class":"file-label"}).find(".file-name:first").attr({"data-title":this.settings.no_file,"class":"file-name"}).find('[class*="icon-"]').attr("class",this.settings.no_icon).prev("img").remove(),this.settings.no_icon||this.$label.find('[class*="icon-"]').remove(),this.$label.find(".file-name").not(":first").remove(),this.$element.data("ace_input_files")&&(this.$element.removeData("ace_input_files"),this.$element.removeData("ace_input_method")),this.reset_input_field(),!1},f.prototype.reset_input_field=function(){this.$element.wrap("<form>").closest("form").get(0).reset(),this.$element.unwrap()},f.prototype.enable_reset=function(a){this.can_reset=a},f.prototype.disable=function(){this.disabled=!0,this.$element.attr("disabled","disabled").addClass("disabled")},f.prototype.enable=function(){this.disabled=!1,this.$element.removeAttr("disabled").removeClass("disabled")},f.prototype.files=function(){return a(this).data("ace_input_files")||null},f.prototype.method=function(){return a(this).data("ace_input_method")||""},f.prototype.update_settings=function(b){this.settings=a.extend({},this.settings,b),this.apply_settings()};var g=function(){var b=this,c=this.element.parentNode;a(c).on("dragenter",function(a){a.preventDefault(),a.stopPropagation()}).on("dragover",function(a){a.preventDefault(),a.stopPropagation()}).on("drop",function(a){a.preventDefault(),a.stopPropagation();var c=a.originalEvent.dataTransfer,e=c.files;if(!b.multi&&e.length>1){var f=[];f.push(e[0]),e=f}var g=!0;return b.settings.before_change&&(g=b.settings.before_change.call(b.element,e,!0)),g&&0!=g.length?((g instanceof Array||d&&g instanceof FileList)&&(e=g),b.$element.data("ace_input_files",e),b.$element.data("ace_input_method","drop"),b.show_file_list(e),b.$element.triggerHandler("change",[!0]),!0):!1})},h=function(){var b=!0;if(this.settings.before_change&&(b=this.settings.before_change.call(this.element,this.element.files||[this.element.value],!1)),!b||0==b.length)return this.$element.data("ace_input_files")||this.reset_input_field(),!1;var c=d?b instanceof Array||b instanceof FileList?b:this.element.files:null;if(this.$element.data("ace_input_method","select"),c&&c.length>0)this.$element.data("ace_input_files",c);else{var e=a.trim(this.element.value);e&&e.length>0&&(c=[],c.push(e),this.$element.data("ace_input_files",c))}return c&&0!=c.length?(this.show_file_list(c),!0):!1},i=function(b){var c=this,d=c.$label.find(".file-name:last"),e=new a.Deferred,g=new FileReader;return g.onload=function(g){d.prepend("<img class='middle' style='display:none;' />");var h=d.find("img:last").get(0);a(h).one("load",function(){var g=50;"large"==c.settings.thumbnail?g=150:"fit"==c.settings.thumbnail&&(g=d.width()),d.addClass(g>50?"large":"");var i=j(h,g,b.type);if(null==i)return a(this).remove(),void e.reject({code:f.error.THUMBNAIL_FAILED});var k=i.w,l=i.h;"small"==c.settings.thumbnail&&(k=l=g),a(h).css({"background-image":"url("+i.src+")",width:k,height:l}).data("thumb",i.src).attr({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}).show(),e.resolve()}).one("error",function(){d.find("img").remove(),e.reject({code:f.error.IMAGE_LOAD_FAILED})}),h.src=g.target.result},g.onerror=function(){e.reject({code:f.error.FILE_LOAD_FAILED})},g.readAsDataURL(b),e.promise()},j=function(a,b){var c=a.width,d=a.height;(c>b||d>b)&&(c>d?(d=parseInt(b/c*d),c=b):(c=parseInt(b/d*c),d=b));var e;try{var f=document.createElement("canvas");f.width=c,f.height=d;var g=f.getContext("2d");g.drawImage(a,0,0,a.width,a.height,0,0,c,d),e=f.toDataURL()}catch(h){e=null}return/^data\:image\/(png|jpe?g|gif);base64,[0-9A-Za-z\+\/\=]+$/.test(e)||(e=null),e?{src:e,w:c,h:d}:null};a.fn.ace_file_input=function(c,d){var e,g=this.each(function(){var b=a(this),g=b.data("ace_file_input"),h="object"==typeof c&&c;g||b.data("ace_file_input",g=new f(this,h)),"string"==typeof c&&(e=g[c](d))});return e===b?g:e},a.fn.ace_file_input.defaults={style:!1,no_file:"No File ...",no_icon:"icon-upload-alt",btn_choose:"Choose",btn_change:"Change",icon_remove:"icon-remove",droppable:!1,thumbnail:!1,before_change:null,before_remove:null,preview_error:null}}(window.jQuery),function(a){a.fn.ace_spinner=function(b){return this.each(function(){var c=b.icon_up||"icon-chevron-up",d=b.icon_down||"icon-chevron-down",e=b.on_sides||!1,f=b.btn_up_class||"",g=b.btn_down_class||"",h=b.max||999;h=(""+h).length,a(this).addClass("spinner-input form-control").wrap('<div class="ace-spinner">');var i=a(this).closest(".ace-spinner").spinner(b).wrapInner("<div class='input-group'></div>");e?(a(this).before('<div class="spinner-buttons input-group-btn">							<button type="button" class="btn spinner-down btn-xs '+g+'">								<i class="'+d+'"></i>							</button>						</div>').after('<div class="spinner-buttons input-group-btn">							<button type="button" class="btn spinner-up btn-xs '+f+'">								<i class="'+c+'"></i>							</button>						</div>'),i.addClass("touch-spinner"),i.css("width",20*h+40+"px")):(a(this).after('<div class="spinner-buttons input-group-btn">							<button type="button" class="btn spinner-up btn-xs '+f+'">								<i class="'+c+'"></i>							</button>							<button type="button" class="btn spinner-down btn-xs '+g+'">								<i class="'+d+'"></i>							</button>						</div>'),"ontouchend"in document||b.touch_spinner?(i.addClass("touch-spinner"),i.css("width",20*h+40+"px")):(a(this).next().addClass("btn-group-vertical"),i.css("width",20*h+10+"px"))),a(this).on("mousewheel DOMMouseScroll",function(a){var b=a.originalEvent.detail<0||a.originalEvent.wheelDelta>0?1:-1;return i.spinner("step",b>0),i.spinner("triggerChangedEvent"),!1});var j=a(this);i.on("changed",function(){j.trigger("change")})}),this}}(window.jQuery),function(a){a.fn.ace_wizard=function(){return this.each(function(){var b=a(this);b.wizard();var c=b.siblings(".wizard-actions").eq(0),d=b.data("wizard");d.$prevBtn.remove(),d.$nextBtn.remove(),d.$prevBtn=c.find(".btn-prev").eq(0).on(ace.click_event,function(){b.wizard("previous")}).attr("disabled","disabled"),d.$nextBtn=c.find(".btn-next").eq(0).on(ace.click_event,function(){b.wizard("next")}).removeAttr("disabled"),d.nextText=d.$nextBtn.text()}),this}}(window.jQuery),function(a){a.fn.ace_colorpicker=function(b){var c=a.extend({pull_right:!1,caret:!0},b);return this.each(function(){var b=a(this),d="",e="";a(this).hide().find("option").each(function(){var a="colorpick-btn";this.selected&&(a+=" selected",e=this.value),d+='<li><a class="'+a+'" href="#" style="background-color:'+this.value+';" data-color="'+this.value+'"></a></li>'}).end().on("change.ace_inner_call",function(){a(this).next().find(".btn-colorpicker").css("background-color",this.value)}).after('<div class="dropdown dropdown-colorpicker"><a data-toggle="dropdown" class="dropdown-toggle" href="#"><span class="btn-colorpicker" style="background-color:'+e+'"></span></a><ul class="dropdown-menu'+(c.caret?" dropdown-caret":"")+(c.pull_right?" pull-right":"")+'">'+d+"</ul></div>").next().find(".dropdown-menu").on(ace.click_event,function(c){var d=a(c.target);if(!d.is(".colorpick-btn"))return!1;d.closest("ul").find(".selected").removeClass("selected"),d.addClass("selected");var e=d.data("color");return b.val(e).change(),c.preventDefault(),!0})}),this}}(window.jQuery),function(a){a.fn.ace_tree=function(b){var c={"open-icon":"icon-folder-open","close-icon":"icon-folder-close",selectable:!0,"selected-icon":"icon-ok","unselected-icon":"tree-dot"};return c=a.extend({},c,b),this.each(function(){var b=a(this);b.html('<div class = "tree-folder" style="display:none;">				<div class="tree-folder-header">					<i class="'+c["close-icon"]+'"></i>					<div class="tree-folder-name"></div>				</div>				<div class="tree-folder-content"></div>				<div class="tree-loader" style="display:none"></div>			</div>			<div class="tree-item" style="display:none;">				'+(null==c["unselected-icon"]?"":'<i class="'+c["unselected-icon"]+'"></i>')+'				<div class="tree-item-name"></div>			</div>'),b.addClass(1==c.selectable?"tree-selectable":"tree-unselectable"),b.tree(c)}),this}}(window.jQuery),function(a){a.fn.ace_wysiwyg=function(b){var c=a.extend({speech_button:!0,wysiwyg:{}},b),d=["#ac725e","#d06b64","#f83a22","#fa573c","#ff7537","#ffad46","#42d692","#16a765","#7bd148","#b3dc6c","#fbe983","#fad165","#92e1c0","#9fe1e7","#9fc6e7","#4986e7","#9a9cff","#b99aff","#c2c2c2","#cabdbf","#cca6ac","#f691b2","#cd74e6","#a47ae2","#444444"],e={font:{values:["Arial","Courier","Comic Sans MS","Helvetica","Open Sans","Tahoma","Verdana"],icon:"icon-font",title:"Font"},fontSize:{values:{5:"Huge",3:"Normal",1:"Small"},icon:"icon-text-height",title:"Font Size"},bold:{icon:"icon-bold",title:"Bold (Ctrl/Cmd+B)"},italic:{icon:"icon-italic",title:"Italic (Ctrl/Cmd+I)"},strikethrough:{icon:"icon-strikethrough",title:"Strikethrough"},underline:{icon:"icon-underline",title:"Underline"},insertunorderedlist:{icon:"icon-list-ul",title:"Bullet list"},insertorderedlist:{icon:"icon-list-ol",title:"Number list"},outdent:{icon:"icon-indent-left",title:"Reduce indent (Shift+Tab)"},indent:{icon:"icon-indent-right",title:"Indent (Tab)"},justifyleft:{icon:"icon-align-left",title:"Align Left (Ctrl/Cmd+L)"},justifycenter:{icon:"icon-align-center",title:"Center (Ctrl/Cmd+E)"},justifyright:{icon:"icon-align-right",title:"Align Right (Ctrl/Cmd+R)"},justifyfull:{icon:"icon-align-justify",title:"Justify (Ctrl/Cmd+J)"},createLink:{icon:"icon-link",title:"Hyperlink",button_text:"Add",placeholder:"URL",button_class:"btn-primary"},unlink:{icon:"icon-unlink",title:"Remove Hyperlink"},insertImage:{icon:"icon-picture",title:"Insert picture",button_text:'<i class="icon-file"></i> Choose Image &hellip;',placeholder:"Image URL",button_insert:"Insert",button_class:"btn-success",button_insert_class:"btn-primary",choose_file:!0},foreColor:{values:d,title:"Change Color"},backColor:{values:d,title:"Change Background Color"},undo:{icon:"icon-undo",title:"Undo (Ctrl/Cmd+Z)"},redo:{icon:"icon-repeat",title:"Redo (Ctrl/Cmd+Y)"},viewSource:{icon:"icon-code",title:"View Source"}},f=c.toolbar||["font",null,"fontSize",null,"bold","italic","strikethrough","underline",null,"insertunorderedlist","insertorderedlist","outdent","indent",null,"justifyleft","justifycenter","justifyright","justifyfull",null,"createLink","unlink",null,"insertImage",null,"foreColor",null,"undo","redo",null,"viewSource"];return this.each(function(){var b=' <div class="wysiwyg-toolbar btn-toolbar center"> <div class="btn-group"> ';for(var d in f)if(f.hasOwnProperty(d)){var g=f[d];if(null===g){b+=' </div> <div class="btn-group"> ';continue}if("string"==typeof g&&g in e)g=e[g],g.name=f[d];else{if(!("object"==typeof g&&g.name in e))continue;g=a.extend(e[g.name],g)}var h="className"in g?g.className:"";switch(g.name){case"font":b+=' <a class="btn btn-sm '+h+' dropdown-toggle" data-toggle="dropdown" title="'+g.title+'"><i class="'+g.icon+'"></i><i class="icon-angle-down icon-on-right"></i></a> ',b+=' <ul class="dropdown-menu dropdown-light">';for(var i in g.values)g.values.hasOwnProperty(i)&&(b+=' <li><a data-edit="fontName '+g.values[i]+'" style="font-family:\''+g.values[i]+"'\">"+g.values[i]+"</a></li> ");b+=" </ul>";break;case"fontSize":b+=' <a class="btn btn-sm '+h+' dropdown-toggle" data-toggle="dropdown" title="'+g.title+'"><i class="'+g.icon+'"></i>&nbsp;<i class="icon-angle-down icon-on-right"></i></a> ',b+=' <ul class="dropdown-menu dropdown-light"> ';for(var j in g.values)g.values.hasOwnProperty(j)&&(b+=' <li><a data-edit="fontSize '+j+'"><font size="'+j+'">'+g.values[j]+"</font></a></li> ");b+=" </ul> ";break;case"createLink":b+=' <div class="inline position-relative"> <a class="btn btn-sm '+h+' dropdown-toggle" data-toggle="dropdown" title="'+g.title+'"><i class="'+g.icon+'"></i></a> ',b+=' <div class="dropdown-menu dropdown-caret pull-right">							<div class="input-group">								<input class="form-control" placeholder="'+g.placeholder+'" type="text" data-edit="'+g.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+g.button_class+'" type="button">'+g.button_text+"</button>								</span>							</div>						</div> </div>";break;case"insertImage":b+=' <div class="inline position-relative"> <a class="btn btn-sm '+h+' dropdown-toggle" data-toggle="dropdown" title="'+g.title+'"><i class="'+g.icon+'"></i></a> ',b+=' <div class="dropdown-menu dropdown-caret pull-right">							<div class="input-group">								<input class="form-control" placeholder="'+g.placeholder+'" type="text" data-edit="'+g.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+g.button_insert_class+'" type="button">'+g.button_insert+"</button>								</span>							</div>",g.choose_file&&"FileReader"in window&&(b+='<div class="space-2"></div>							 <div class="center">								<button class="btn btn-sm '+g.button_class+' wysiwyg-choose-file" type="button">'+g.button_text+'</button>								<input type="file" data-edit="'+g.name+'" />							  </div>'),b+=" </div> </div>";break;case"foreColor":case"backColor":b+=' <select class="hide wysiwyg_colorpicker" title="'+g.title+'"> ';for(var k in g.values)b+=' <option value="'+g.values[k]+'">'+g.values[k]+"</option> ";b+=" </select> ",b+=' <input style="display:none;" disabled class="hide" type="text" data-edit="'+g.name+'" /> ';break;case"viewSource":b+=' <a class="btn btn-sm '+h+'" data-view="source" title="'+g.title+'"><i class="'+g.icon+'"></i></a> ';break;default:b+=' <a class="btn btn-sm '+h+'" data-edit="'+g.name+'" title="'+g.title+'"><i class="'+g.icon+'"></i></a> '}}b+=" </div> </div> ",b=c.toolbar_place?c.toolbar_place.call(this,b):a(this).before(b).prev(),b.find("a[title]").tooltip({animation:!1,container:"body"}),b.find(".dropdown-menu input:not([type=file])").on(ace.click_event,function(){return!1}).on("change",function(){a(this).closest(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")}).on("keydown",function(b){27==b.which&&(this.value="",a(this).change())}),b.find("input[type=file]").prev().on(ace.click_event,function(){a(this).next().click()}),b.find(".wysiwyg_colorpicker").each(function(){a(this).ace_colorpicker({pull_right:!0}).change(function(){a(this).nextAll("input").eq(0).val(this.value).change()}).next().find(".btn-colorpicker").tooltip({title:this.title,animation:!1,container:"body"})});var l;if(c.speech_button&&"onwebkitspeechchange"in(l=document.createElement("input"))){var m=a(this).offset();b.append(l),a(l).attr({type:"text","data-edit":"inserttext","x-webkit-speech":""}).addClass("wysiwyg-speech-input").css({position:"absolute"}).offset({top:m.top,left:m.left+a(this).innerWidth()-35})}else l=null;var n=a(this),o=!1;b.find("a[data-view=source]").on("click",function(b){if(b.preventDefault(),o){var c=n.next();n.html(c.val()).show(),c.remove(),a(this).removeClass("active")}else a("<textarea />").css({width:n.outerWidth(),height:n.outerHeight()}).val(n.html()).insertAfter(n),n.hide(),a(this).addClass("active");o=!o});var p=a.extend({},{activeToolbarClass:"active",toolbarSelector:b},c.wysiwyg||{});a(this).wysiwyg(p)}),this}}(window.jQuery);
//# sourceMappingURL=debug\ace-elements.min.map