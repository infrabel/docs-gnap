describe("rating directive",function(){function a(){return f.find("i")}function b(b){return a().eq(b-1)}function c(b,c){for(var d=a(),e=[],f=0,g=d.length;g>f;f++)e.push(d.eq(f).hasClass(b||"glyphicon-star")&&!d.eq(f).hasClass(c||"glyphicon-star-empty"));return e}function d(a){var b=$.Event("keydown");b.which=a,f.trigger(b)}var e,f;beforeEach(module("ui.bootstrap.rating")),beforeEach(module("template/rating/rating.html")),beforeEach(inject(function(a,b){$compile=a,e=b,e.rate=3,f=$compile('<rating ng-model="rate"></rating>')(e),e.$digest()})),it("contains the default number of icons",function(){expect(a().length).toBe(5),expect(f.attr("aria-valuemax")).toBe("5")}),it("initializes the default star icons as selected",function(){expect(c()).toEqual([!0,!0,!0,!1,!1]),expect(f.attr("aria-valuenow")).toBe("3")}),it("handles correctly the click event",function(){b(2).click(),e.$digest(),expect(c()).toEqual([!0,!0,!1,!1,!1]),expect(e.rate).toBe(2),expect(f.attr("aria-valuenow")).toBe("2"),b(5).click(),e.$digest(),expect(c()).toEqual([!0,!0,!0,!0,!0]),expect(e.rate).toBe(5),expect(f.attr("aria-valuenow")).toBe("5")}),it("handles correctly the hover event",function(){b(2).trigger("mouseover"),e.$digest(),expect(c()).toEqual([!0,!0,!1,!1,!1]),expect(e.rate).toBe(3),b(5).trigger("mouseover"),e.$digest(),expect(c()).toEqual([!0,!0,!0,!0,!0]),expect(e.rate).toBe(3),f.trigger("mouseout"),expect(c()).toEqual([!0,!0,!0,!1,!1]),expect(e.rate).toBe(3)}),it("changes the number of selected icons when value changes",function(){e.rate=2,e.$digest(),expect(c()).toEqual([!0,!0,!1,!1,!1]),expect(f.attr("aria-valuenow")).toBe("2")}),it("shows different number of icons when `max` attribute is set",function(){f=$compile('<rating ng-model="rate" max="7"></rating>')(e),e.$digest(),expect(a().length).toBe(7),expect(f.attr("aria-valuemax")).toBe("7")}),it("shows different number of icons when `max` attribute is from scope variable",function(){e.max=15,f=$compile('<rating ng-model="rate" max="max"></rating>')(e),e.$digest(),expect(a().length).toBe(15),expect(f.attr("aria-valuemax")).toBe("15")}),it("handles readonly attribute",function(){e.isReadonly=!0,f=$compile('<rating ng-model="rate" readonly="isReadonly"></rating>')(e),e.$digest(),expect(c()).toEqual([!0,!0,!0,!1,!1]);var a=b(5);a.trigger("mouseover"),e.$digest(),expect(c()).toEqual([!0,!0,!0,!1,!1]),e.isReadonly=!1,e.$digest(),a.trigger("mouseover"),e.$digest(),expect(c()).toEqual([!0,!0,!0,!0,!0])}),it("should fire onHover",function(){e.hoveringOver=jasmine.createSpy("hoveringOver"),f=$compile('<rating ng-model="rate" on-hover="hoveringOver(value)"></rating>')(e),e.$digest(),b(3).trigger("mouseover"),e.$digest(),expect(e.hoveringOver).toHaveBeenCalledWith(3)}),it("should fire onLeave",function(){e.leaving=jasmine.createSpy("leaving"),f=$compile('<rating ng-model="rate" on-leave="leaving()"></rating>')(e),e.$digest(),f.trigger("mouseleave"),e.$digest(),expect(e.leaving).toHaveBeenCalled()}),describe("keyboard navigation",function(){it("supports arrow keys",function(){d(38),expect(e.rate).toBe(4),d(37),expect(e.rate).toBe(3),d(40),expect(e.rate).toBe(2),d(39),expect(e.rate).toBe(3)}),it("can get zero value but not negative",function(){e.rate=1,e.$digest(),d(37),expect(e.rate).toBe(0),d(37),expect(e.rate).toBe(0)}),it("cannot get value above max",function(){e.rate=4,e.$digest(),d(38),expect(e.rate).toBe(5),d(38),expect(e.rate).toBe(5)})}),describe("custom states",function(){beforeEach(inject(function(){e.classOn="icon-ok-sign",e.classOff="icon-ok-circle",f=$compile('<rating ng-model="rate" state-on="classOn" state-off="classOff"></rating>')(e),e.$digest()})),it("changes the default icons",function(){expect(c(e.classOn,e.classOff)).toEqual([!0,!0,!0,!1,!1])})}),describe("`rating-states`",function(){beforeEach(inject(function(){e.states=[{stateOn:"sign",stateOff:"circle"},{stateOn:"heart",stateOff:"ban"},{stateOn:"heart"},{stateOff:"off"}],f=$compile('<rating ng-model="rate" rating-states="states"></rating>')(e),e.$digest()})),it("should define number of icon elements",function(){expect(a().length).toBe(4),expect(f.attr("aria-valuemax")).toBe("4")}),it("handles each icon",function(){for(var b=a(),c=0;c<b.length;c++){var d=b.eq(c),f=e.states[c],g=c<e.rate;expect(d.hasClass(f.stateOn)).toBe(g),expect(d.hasClass(f.stateOff)).toBe(!g)}})}),describe("setting ratingConfig",function(){var b={};beforeEach(inject(function(a){e.rate=5,angular.extend(b,a),a.max=10,a.stateOn="on",a.stateOff="off",f=$compile('<rating ng-model="rate"></rating>')(e),e.$digest()})),afterEach(inject(function(a){angular.extend(a,b)})),it("should change number of icon elements",function(){expect(a().length).toBe(10)}),it("should change icon states",function(){expect(c("on","off")).toEqual([!0,!0,!0,!0,!0,!1,!1,!1,!1,!1])})})});
//# sourceMappingURL=..\..\..\debug\ui-bootstrap\rating\test\rating.spec.min.map