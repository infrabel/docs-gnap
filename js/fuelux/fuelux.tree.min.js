!function(a,b){var c=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.tree.defaults,c),this.$element.on("click",".tree-item",a.proxy(function(a){this.selectItem(a.currentTarget)},this)),this.$element.on("click",".tree-folder-header",a.proxy(function(a){this.selectFolder(a.currentTarget)},this)),this.render()};c.prototype={constructor:c,render:function(){this.populate(this.$element)},populate:function(b){var c=this,d=b.parent().find(".tree-loader:eq(0)");d.show(),this.options.dataSource.data(b.data(),function(e){d.hide(),a.each(e.data,function(a,d){var e;if("folder"===d.type){e=c.$element.find(".tree-folder:eq(0)").clone().show(),e.find(".tree-folder-name").html(d.name),e.find(".tree-loader").html(c.options.loadingHTML);var f=e.find(".tree-folder-header");f.data(d),"icon-class"in d&&f.find('[class*="icon-"]').addClass(d["icon-class"])}else"item"===d.type&&(e=c.$element.find(".tree-item:eq(0)").clone().show(),e.find(".tree-item-name").html(d.name),e.data(d),"additionalParameters"in d&&"item-selected"in d.additionalParameters&&1==d.additionalParameters["item-selected"]&&(e.addClass("tree-selected"),e.find("i").removeClass(c.options["unselected-icon"]).addClass(c.options["selected-icon"])));b.hasClass("tree-folder-header")?b.parent().find(".tree-folder-content:eq(0)").append(e):b.append(e)}),c.$element.trigger("loaded")})},selectItem:function(b){if(0!=this.options.selectable){var c=a(b),d=this.$element.find(".tree-selected"),e=[];this.options.multiSelect?a.each(d,function(b,d){var f=a(d);f[0]!==c[0]&&e.push(a(d).data())}):d[0]!==c[0]&&(d.removeClass("tree-selected").find("i").removeClass(this.options["selected-icon"]).addClass(this.options["unselected-icon"]),e.push(c.data())),c.hasClass("tree-selected")?(c.removeClass("tree-selected"),c.find("i").removeClass(this.options["selected-icon"]).addClass(this.options["unselected-icon"])):(c.addClass("tree-selected"),c.find("i").removeClass(this.options["unselected-icon"]).addClass(this.options["selected-icon"]),this.options.multiSelect&&e.push(c.data())),e.length&&this.$element.trigger("selected",{info:e})}},selectFolder:function(b){var c=a(b),d=c.parent();c.find("."+this.options["close-icon"]).length?(d.find(".tree-folder-content").children().length?d.find(".tree-folder-content:eq(0)").show():this.populate(c),d.find("."+this.options["close-icon"]+":eq(0)").removeClass(this.options["close-icon"]).addClass(this.options["open-icon"]),this.$element.trigger("opened",c.data())):(this.options.cacheItems?d.find(".tree-folder-content:eq(0)").hide():d.find(".tree-folder-content:eq(0)").empty(),d.find("."+this.options["open-icon"]+":eq(0)").removeClass(this.options["open-icon"]).addClass(this.options["close-icon"]),this.$element.trigger("closed",c.data()))},selectedItems:function(){var b=this.$element.find(".tree-selected"),c=[];return a.each(b,function(b,d){c.push(a(d).data())}),c}},a.fn.tree=function(d,e){var f,g=this.each(function(){var b=a(this),g=b.data("tree"),h="object"==typeof d&&d;g||b.data("tree",g=new c(this,h)),"string"==typeof d&&(f=g[d](e))});return f===b?g:f},a.fn.tree.defaults={multiSelect:!1,loadingHTML:"<div>Loading...</div>",cacheItems:!0},a.fn.tree.Constructor=c}(window.jQuery);
//# sourceMappingURL=..\debug\fuelux\fuelux.tree.min.map